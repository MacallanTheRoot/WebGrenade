<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebGrenade - Dashboard</title>
  <link rel="stylesheet" href="style.css?v=2.0">
</head>
<body>
  <div class="popup-container">
    
    <aside class="sidebar">
      <div class="sidebar-header">
        <span class="logo">üí£</span>
      </div>
      
      <nav class="sidebar-nav">
        <button class="sidebar-btn active" data-module="media" title="Media Center">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
        </button>
        <button class="sidebar-btn" data-module="link" title="Link Station">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
        </button>
        <button class="sidebar-btn" data-module="color" title="Color Studio">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="8"></line><line x1="4" y1="12" x2="20" y2="12"></line></svg>
        </button>
        <button class="sidebar-btn" data-module="password" title="Security Hub">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
        </button>
        <button class="sidebar-btn" data-module="cookies" title="Cookie Manager">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M12 2a10 10 0 0 1 10 10"></path></svg>
        </button>
        <button class="sidebar-btn" data-module="rss" title="RSS Reader">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg>
        </button>
        <button class="sidebar-btn" data-module="utils" title="Utilities">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
        </button>
        <button class="sidebar-btn" data-module="settings" title="Settings">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
        </button>
      </nav>
    </aside>

    <main class="main-content">
      
      <div class="module-content active" data-module="media">
        <div class="module-header">
          <h2>üì• Media Center</h2>
          <p class="module-subtitle">Download videos from YouTube</p>
        </div>
        <div class="status-message" id="media-status"></div>
        <div class="video-info" id="video-info" style="display: none;">
          <div class="video-thumbnail-wrapper">
            <img id="video-thumbnail" class="video-thumbnail" alt="Video Thumbnail">
          </div>
          <div class="video-meta">
            <h3 id="video-title" class="video-title">Loading...</h3>
            <div class="video-url" id="video-url"></div>
          </div>
        </div>
        <div class="download-controls" id="download-controls" style="display: none;">
          <div class="control-row">
            <div class="control-group">
              <label>Format</label>
              <select id="format-select" class="control-select">
                <option value="mp4">MP4 (Video)</option>
                <option value="mp3">MP3 (Audio Only)</option>
              </select>
            </div>
            <div class="control-group">
              <label>Quality</label>
              <select id="quality-select" class="control-select">
                <option value="1080p">1080p (Full HD)</option>
                <option value="720p">720p (HD)</option>
                <option value="360p">360p (SD)</option>
              </select>
            </div>
          </div>
          <button id="download-btn" class="btn btn-primary btn-block">Download</button>
        </div>
        <div class="download-history">
          <h3 class="section-title">Recent Downloads</h3>
          <div id="download-history-list" class="history-list"><div class="empty-state">No downloads yet</div></div>
        </div>
      </div>
      
      <div class="module-content" data-module="link">
        <div class="module-header">
          <h2>üîó Link Station</h2>
          <p class="module-subtitle">Shorten URLs & generate QR codes</p>
        </div>
        <div class="link-controls">
          <div class="form-group">
            <label>Current Page URL</label>
            <div class="input-with-button">
              <input type="text" id="current-url" class="input-field" readonly>
              <button id="shorten-btn" class="btn btn-secondary">Shorten</button>
            </div>
          </div>
          <div class="form-group" id="shortened-section" style="display: none;">
            <label>Shortened URL</label>
            <div class="input-with-button">
              <input type="text" id="shortened-url" class="input-field" readonly>
              <button id="copy-short-url-btn" class="btn btn-icon" title="Copy">üìã</button>
            </div>
          </div>
          <div class="api-selector">
            <label>Shortener Service</label>
            <select id="shortener-api" class="control-select">
              <option value="isgd">is.gd (Free)</option>
              <option value="tinyurl">TinyURL</option>
            </select>
          </div>
        </div>
        <div class="qr-section">
          <h3 class="section-title">QR Code</h3>
          <div id="qr-container" class="qr-container"></div>
          <button id="download-qr-btn" class="btn btn-secondary btn-block" style="display: none;">Download QR as PNG</button>
        </div>
        <div class="link-history">
          <div class="history-header">
            <h3 class="section-title">History</h3>
            <button id="clear-link-history-btn" class="btn-text">Clear All</button>
          </div>
          <div id="link-history-list" class="history-list"><div class="empty-state">No shortened links yet</div></div>
        </div>
      </div>
      
      <div class="module-content" data-module="color">
        <div class="module-header">
          <h2>üé® Color Studio</h2>
          <p class="module-subtitle">Pick colors from any webpage</p>
        </div>
        <div class="color-display">
          <div id="color-preview" class="color-preview"></div>
          <div class="color-values">
            <div class="color-value-item">
              <label>HEX</label>
              <input type="text" id="color-hex" class="input-field" readonly>
            </div>
            <div class="color-value-item">
              <label>RGB</label>
              <input type="text" id="color-rgb" class="input-field" readonly>
            </div>
          </div>
        </div>
        <button id="eyedropper-btn" class="btn btn-primary btn-block">Pick Color from Page</button>
        <div class="color-history">
          <div class="history-header">
            <h3 class="section-title">Color Palette</h3>
            <button id="clear-color-history-btn" class="btn-text">Clear All</button>
          </div>
          <div id="color-history-grid" class="color-history-grid"><div class="empty-state">No colors picked yet</div></div>
        </div>
      </div>
      
      <div class="module-content" data-module="password">
        <div class="module-header">
          <h2>üîê Security Hub</h2>
          <p class="module-subtitle">Generate secure passwords</p>
        </div>
        <div class="password-display">
          <input type="text" id="generated-password" class="password-output" readonly value="">
          <button id="copy-password-btn" class="btn btn-icon" title="Copy Password">üìã</button>
        </div>
        <div class="strength-meter">
          <div class="strength-label"><span>Strength:</span><span id="strength-text" class="strength-text">-</span></div>
          <div class="strength-bar-container"><div id="strength-bar" class="strength-bar"></div></div>
        </div>
        <div class="password-options">
          <div class="form-group">
            <label>Length: <span id="password-length-value">16</span></label>
            <input type="range" id="password-length" class="range-slider" min="8" max="64" value="16">
          </div>
          <div class="checkbox-group">
            <label class="checkbox-label"><input type="checkbox" id="include-uppercase" checked><span>Uppercase (A-Z)</span></label>
            <label class="checkbox-label"><input type="checkbox" id="include-lowercase" checked><span>Lowercase (a-z)</span></label>
            <label class="checkbox-label"><input type="checkbox" id="include-numbers" checked><span>Numbers (0-9)</span></label>
            <label class="checkbox-label"><input type="checkbox" id="include-symbols" checked><span>Symbols (!@#$%)</span></label>
          </div>
        </div>
        <button id="generate-password-btn" class="btn btn-primary btn-block">Generate Password</button>
      </div>
      
      <div class="module-content" data-module="cookies">
        <div class="module-header">
          <h2>üç™ Cookie Manager</h2>
          <p class="module-subtitle">View and edit cookies for <span id="cookie-domain-display">current site</span></p>
        </div>
        <div class="cookie-controls">
          <input type="text" id="cookie-search" class="input-field" placeholder="Search by name or domain...">
          <div class="button-group">
            <button id="export-cookies-btn" class="btn btn-secondary" title="Export to JSON">üì• Export</button>
            <button id="import-cookies-btn" class="btn btn-secondary" title="Import from JSON">üì§ Import</button>
            <button id="add-cookie-btn" class="btn btn-secondary">Add Cookie</button>
            <button id="delete-all-cookies-btn" class="btn btn-danger">Delete All</button>
          </div>
        </div>
        <div id="cookie-list" class="cookie-list"><div class="empty-state">Loading cookies...</div></div>
        
        <div id="cookie-edit-form" class="cookie-edit-form" style="display: none;">
          <h3 class="form-title">Edit Cookie</h3>
          <div class="form-row">
            <div class="form-group"><label>Name</label><input type="text" id="edit-cookie-name" class="input-field" readonly></div>
            <div class="form-group">
              <label>Value</label>
              <div class="input-with-button">
                <textarea id="edit-cookie-value" class="input-field" rows="2"></textarea>
                <button id="format-cookie-value-btn" class="btn btn-icon" title="Format Value">üîß</button>
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group"><label>Domain</label><input type="text" id="edit-cookie-domain" class="input-field"></div>
            <div class="form-group"><label>Path</label><input type="text" id="edit-cookie-path" class="input-field"></div>
          </div>
          <div class="checkbox-group-inline">
            <label class="checkbox-label"><input type="checkbox" id="edit-cookie-secure"><span>Secure</span></label>
            <label class="checkbox-label"><input type="checkbox" id="edit-cookie-httponly"><span>HttpOnly</span></label>
            <label class="checkbox-label"><input type="checkbox" id="edit-cookie-session"><span>Session Cookie</span></label>
          </div>
          <div class="form-group" id="cookie-expiry-group" style="display: none;">
            <label>Expiration Date</label>
            <input type="datetime-local" id="edit-cookie-expiry" class="input-field">
          </div>
          <div class="form-group">
            <label>SameSite</label>
            <select id="edit-cookie-samesite" class="control-select">
              <option value="no_restriction">No Restriction</option>
              <option value="lax">Lax</option>
              <option value="strict">Strict</option>
            </select>
          </div>
          <div class="button-group">
            <button id="save-cookie-btn" class="btn btn-primary">Save Changes</button>
            <button id="cancel-edit-cookie-btn" class="btn btn-secondary">Cancel</button>
          </div>
        </div>
      </div>
      
      <div class="module-content" data-module="rss">
        <div class="module-header">
          <h2>üì∞ RSS Feed Reader</h2>
          <p class="module-subtitle">Subscribe to RSS feeds</p>
        </div>
        <div class="rss-controls">
          <div class="form-group">
            <label>Feed URL</label>
            <div class="input-with-button">
              <input type="text" id="rss-feed-url" class="input-field" placeholder="https://example.com/feed.xml">
              <button id="add-feed-btn" class="btn btn-secondary">Add</button>
            </div>
          </div>
          <div class="form-group">
            <label>Saved Feeds</label>
            <div class="input-with-button">
              <select id="saved-feeds" class="control-select">
                <option value="">No feeds saved</option>
              </select>
              <button id="refresh-feed-btn" class="btn btn-icon" title="Refresh Feed">üîÑ</button>
              <button id="delete-feed-btn" class="btn btn-icon" title="Delete Feed">üóëÔ∏è</button>
            </div>
          </div>
        </div>
        <div id="rss-feed-list" class="rss-feed-list"><div class="empty-state">Select or add a feed to view items</div></div>
      </div>
      
      <div class="module-content" data-module="utils">
        <div class="module-header">
          <h2>üõ†Ô∏è Utilities</h2>
          <p class="module-subtitle">Advanced page manipulation tools</p>
        </div>
        <div class="utils-grid">
          <div class="util-card">
            <div class="util-header">
              <h3>üõ°Ô∏è Right Click Unlocker</h3>
              <label class="toggle-switch">
                <input type="checkbox" id="toggle-right-click">
                <span class="toggle-slider"></span>
              </label>
            </div>
            <p>Remove right-click blocking and copy protection</p>
          </div>
          <div class="util-card">
            <div class="util-header">
              <h3>üì∫ Picture-in-Picture</h3>
              <button id="pip-mode-btn" class="btn btn-secondary btn-sm">Enable PiP</button>
            </div>
            <p>Float video player on top of other windows</p>
          </div>
          <div class="util-card">
            <div class="util-header">
              <h3>üìù Markdown Copier</h3>
              <button id="copy-markdown-btn" class="btn btn-secondary btn-sm">Copy</button>
            </div>
            <p>Copy page title and URL as markdown link</p>
          </div>
          <div class="util-card">
            <div class="util-header">
              <h3>üö´ Popup Blocker <span id="blocked-count-badge" class="badge">0</span></h3>
              <label class="toggle-switch">
                <input type="checkbox" id="toggle-popup-killer">
                <span class="toggle-slider"></span>
              </label>
            </div>
            <p>Block popups, overlays, and aggressive modals</p>
            <div class="util-actions">
              <button id="whitelist-site-btn" class="btn btn-secondary btn-sm">Trust This Site</button>
              <button id="view-whitelist-btn" class="btn-text btn-sm">View List</button>
            </div>
          </div>
          <div class="util-card">
            <div class="util-header">
              <h3>üóëÔ∏è Page Cleaner</h3>
              <label class="toggle-switch">
                <input type="checkbox" id="toggle-page-cleaner">
                <span class="toggle-slider"></span>
              </label>
            </div>
            <p>Hide ads, sidebars, and distractions</p>
          </div>
        </div>
      </div>
      
      <div class="module-content" data-module="settings">
        <div class="module-header">
          <h2>‚öôÔ∏è Settings</h2>
          <p class="module-subtitle">Configure API and extension preferences</p>
        </div>
        <div class="settings-section">
          <h3 class="section-title">RapidAPI Configuration</h3>
          <div class="form-group">
            <label>Provider Preset</label>
            <select id="provider-preset" class="control-select">
              <option value="datafanatic">DataFanatic (YouTube Media Downloader)</option>
              <option value="ytmp3">YouTube to MP3</option>
              <option value="custom">Custom Provider</option>
            </select>
          </div>
          <div class="form-group">
            <label>RapidAPI Key</label>
            <input type="password" id="api-key-input" class="input-field" placeholder="Enter your RapidAPI key">
          </div>
          <div class="form-group">
            <label>API Host</label>
            <input type="text" id="api-host-input" class="input-field" placeholder="e.g., youtube-media-downloader.p.rapidapi.com">
          </div>
          <div id="advanced-settings" class="advanced-settings" style="display: none;">
            <h4 class="subsection-title">Advanced Settings</h4>
            <div class="form-group"><label>Endpoint Path</label><input type="text" id="endpoint-path" class="input-field" placeholder="/v2/video/details"></div>
            <div class="form-group">
              <label>HTTP Method</label>
              <select id="http-method" class="control-select">
                <option value="GET">GET</option>
                <option value="POST">POST</option>
              </select>
            </div>
          </div>
          <button id="toggle-advanced-btn" class="btn-text">Show Advanced Settings</button>
          <button id="save-settings-btn" class="btn btn-primary">Save Configuration</button>
          <div class="settings-status" id="settings-status"></div>
        </div>
        <div class="settings-section">
          <h3 class="section-title">About</h3>
          <div class="about-info">
            <p><strong>WebGrenade</strong> v2.0.0</p>
            <p>Professional webmaster toolkit</p>
            <p>¬© 2026 <a href="https://github.com/MacallanTheRoot" target="_blank" style="color: var(--primary); text-decoration: none;">MacallanTheRoot</a></p>
          </div>
        </div>
      </div>
    </main>
  </div>
  
  <div id="toast-container" class="toast-container"></div>
  
  <!-- Import Cookies Modal -->
  <div id="import-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Import Cookies from JSON</h3>
        <button id="close-import-modal-x" class="modal-close">√ó</button>
      </div>
      <div class="modal-body">
        <p class="modal-help">Paste the JSON array of cookies below:</p>
        <textarea id="import-json-textarea" class="import-textarea" rows="10" placeholder='[{"name":"sessionId","value":"abc123",...}]'></textarea>
      </div>
      <div class="modal-footer">
        <button id="confirm-import-btn" class="btn btn-primary">Import Cookies</button>
        <button id="cancel-import-btn" class="btn btn-secondary">Cancel</button>
      </div>
    </div>
  </div>
  
  <!-- Whitelist Modal -->
  <div id="whitelist-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Popup Blocker Whitelist</h3>
        <button id="close-whitelist-modal-x" class="modal-close">√ó</button>
      </div>
      <div class="modal-body">
        <div id="whitelist-list" class="whitelist-list"></div>
      </div>
      <div class="modal-footer">
        <button id="close-whitelist-modal-btn" class="btn btn-secondary">Close</button>
      </div>
    </div>
  </div>
  
  <script src="utils.js"></script>
  <script src="popup.js"></script>
</body>
</html>